# ============================================
# RENDER CONFIG - SERVICIO NODE.JS/REACT FRONTEND
# ============================================
# Para: proyecto-casira-1.onrender.com (Frontend Static Site)

services:
  - type: web
    name: casira-connect-frontend
    runtime: node
    rootDir: .
    buildCommand: |
      echo "🔨 Building CASIRA Connect with Node.js server..."
      echo "📦 Installing dependencies..."
      npm install --no-fund --no-audit
      echo "🏗️ Building frontend..."
      cd apps/web
      npm ci --include=dev --no-fund --no-audit
      npm run build
      cd ../..
      echo "✅ Build completed successfully"
    startCommand: |
      echo "🚀 Starting Express server with Google Auth support..."
      cd apps/web && npm start
    plan: free
    envVars:
      - key: NODE_VERSION
        value: 20.18.0
      - key: NODE_ENV
        value: production