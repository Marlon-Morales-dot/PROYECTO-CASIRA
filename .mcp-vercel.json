{
  "name": "casira-connect-vercel",
  "version": "2.0.0", 
  "description": "MCP configuration for CASIRA Connect Vercel deployment - New Architecture",
  "vercel": {
    "project": "proyecto-casira",
    "framework": "vite",
    "buildCommand": "cd apps/web && npm run build",
    "outputDirectory": "apps/web/dist",
    "installCommand": "npm install",
    "devCommand": "npm run dev",
    "functions": {
      "apps/api/index.py": {
        "runtime": "python3.9"
      }
    },
    "builds": [
      {
        "src": "apps/web/package.json",
        "use": "@vercel/static-build",
        "config": {
          "distDir": "dist"
        }
      },
      {
        "src": "apps/api/**/*.py",
        "use": "@vercel/python"
      }
    ],
    "env": {
      "required": [
        "VITE_GOOGLE_CLIENT_ID",
        "VITE_SUPABASE_URL", 
        "VITE_SUPABASE_ANON_KEY",
        "VITE_API_URL"
      ],
      "production": {
        "VITE_API_URL": "https://proyecto-casira.vercel.app/api"
      },
      "development": {
        "VITE_API_URL": "http://localhost:5000/api"
      }
    },
    "regions": ["iad1"],
    "rewrites": [
      {
        "source": "/api/(.*)",
        "destination": "/apps/api/$1"
      },
      {
        "source": "/((?!api).*)",
        "destination": "/index.html"
      }
    ]
  },
  "monitoring": {
    "analytics": true,
    "speed_insights": true,
    "web_vitals": true
  }
}